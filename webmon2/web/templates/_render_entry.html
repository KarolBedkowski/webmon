{% macro render_entry(entry, mode) -%}
	<article data-state="{% if entry.read_mark %}read{% else %}unread{% endif %}" data-entry-id="{{ entry.id }}"
			data-starred="{% if entry.star_mark %}star{% else %}unstar{% endif %}">
		<header>
			<h4><a href="{{ entry.url or url_for("entry.entry", entry_id=entry.id) }}">{{ entry.human_title() }}</a>
				{% if entry.source.group %}<a class="group-tag" href="{{ url_for("group.group_entries", group_id=entry.source.group_id) }}">{{ entry.source.group.name }}</a>{% endif %}
			</h4>
			<nav>
				<a href="{{ url_for('source.source_entries', source_id=entry.source_id) }}">{{ entry.source.name }}</a>
				| &#9716; <time>{{ entry.updated|age }}</time>
				| <a href="#" data-action="mark_read"></a>
				| <a href="#" data-action="mark_star"></a>
			</nav>
		</header>
 		{% if entry.is_long_content() and mode == 'summary' %}
			{% if entry.get_opt('preformated') %}
				<pre>{{ entry.get_summary()|safe }}</pre>
			{% else %}
				{{ entry.get_summary()|format_body|safe }}
			{% endif %}
			<footer><a href="">Read moreâ€¦</a><footer>
		{% elif entry.content %}
			{% if entry.get_opt('preformated') %}
				<pre>{{ entry.content|safe }}</pre>
			{% else %}
				{{ entry.content|format_body|safe }}
			{% endif %}
		{% endif %}
	</article>
{%- endmacro %}
